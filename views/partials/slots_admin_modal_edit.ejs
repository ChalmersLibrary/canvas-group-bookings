<div class="modal modal-md fade" id="editSlot" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="editSlotLabel" aria-hidden="true">
    <div class="modal-dialog">
        <form class="needs-validation" id="editSlotForm" novalidate method="post" action="/api/admin/slot">
            <input type="hidden" id="e_slot_id" name="slot_id" value="" />
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editSlotLabel">Redigera bokningsbar tid</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Stäng"></button>
                </div>
                <div class="modal-body">
                    <div id="slots">
                        <div class="row slot">
                            <div class="col-sm-6">
                                <p>
                                    <label for="e_slot_date" class="form-label">Datum:</label>
                                    <input type="date" class="form-control" id="e_slot_date" name="slot_date">
                                </p>
                            </div>
                            <div class="col-sm-3">
                                <p>
                                    <label for="e_slot_time_start" class="form-label">Startar:</label>
                                    <input type="time" class="form-control" id="e_slot_time_start" name="slot_time_start">    
                                </p>
                            </div>
                            <div class="col-sm-3">
                                <p>
                                    <label for="e_slot_time_end" class="form-label">Slutar:</label>
                                    <input type="time" class="form-control" id="e_slot_time_end" name="slot_time_end">    
                                </p>
                            </div>
                        </div>
                    </div>
                    <p>
                        <label for="e_course_id" class="form-label">Tillfälle:</label>
                        <select required id="e_course_id" name="course_id" class="form-select" aria-label="Välj ett kurstillfälle">
                            <option value="" disabled>Välj...</option>
                            <% courses.forEach((course) => { %>
                                <option value="<%= course.id %>"><%= course.name %></option>                                
                            <% }); %>
                        </select>
                        <div class="invalid-feedback">
                            Du måste välja ett tillfälle/kurs.
                        </div>
                    </p>
                    <p>
                        <label for="e_instructor_id" class="form-label">Handledare:</label>
                        <select required id="e_instructor_id" name="instructor_id" class="form-select" aria-label="Välj en handledare">
                            <option value="" disabled>Välj...</option>
                            <% instructors.forEach((instructor) => { %>
                                <option value="<%= instructor.id %>"><%= instructor.name %></option>                                
                            <% }); %>
                        </select>
                    </p>
                    <p>
                        <label for="e_location_id" class="form-label">Lokal:</label>
                        <select required id="e_location_id" name="location_id" class="form-select" aria-label="Välj en lokal">
                            <option value="" disabled>Välj...</option>
                            <% locations.forEach((location) => { %>
                                <option value="<%= location.id %>"><%= location.name %></option>                                
                            <% }); %>
                        </select>
                    </p>
                    <div id="reservations_box" class="alert alert-secondary">
                        <label for="reservations">Bokningar:</label>
                        <div id="reservations" data-default-text="Det finns inga bokningar på denna tid." class=""></div>    
                    </div>
                    <div class="row d-none" id="editSlotWarning">
                        <div class="col">
                            <div class="alert alert-warning" role="alert">
                                <strong>Tänk på:</strong>
                                <span>
                                    Om du ändrar något här måste du manuellt meddela de som redan bokat sig om förändringen.
                                    Inget automatiskt meddelande skickas ut.
                                </span>
                            </div>    
                        </div>
                    </div>
                    <div class="row d-none" id="editSlotError">
                        <div class="col">
                            <div class="alert alert-danger" role="alert">
                                <strong>Ett fel uppstod:</strong> <span></span>
                            </div>    
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Stäng</button>
                    <button type="submit" class="btn btn-primary" id="editSlotSaveButton">Uppdatera</button>
                </div>
            </div>
        </form>
    </div>
</div>